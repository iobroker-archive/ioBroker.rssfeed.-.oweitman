"use strict";(()=>{var ae=Object.create;var I=Object.defineProperty;var ce=Object.getOwnPropertyDescriptor;var le=Object.getOwnPropertyNames;var ue=Object.getPrototypeOf,de=Object.prototype.hasOwnProperty;var J=(a=>typeof require!="undefined"?require:typeof Proxy!="undefined"?new Proxy(a,{get:(i,r)=>(typeof require!="undefined"?require:i)[r]}):a)(function(a){if(typeof require!="undefined")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')});var fe=(a,i)=>()=>(a&&(i=a(a=0)),i);var G=(a,i)=>()=>(i||a((i={exports:{}}).exports,i),i.exports);var he=(a,i,r,w)=>{if(i&&typeof i=="object"||typeof i=="function")for(let v of le(i))!de.call(a,v)&&v!==r&&I(a,v,{get:()=>i[v],enumerable:!(w=ce(i,v))||w.enumerable});return a};var K=(a,i,r)=>(r=a!=null?ae(ue(a)):{},he(i||!a||!a.__esModule?I(r,"default",{value:a,enumerable:!0}):r,a));var Q=(a,i,r)=>new Promise((w,v)=>{var e=h=>{try{o(r.next(h))}catch(m){v(m)}},u=h=>{try{o(r.throw(h))}catch(m){v(m)}},o=h=>h.done?w(h.value):Promise.resolve(h.value).then(e,u);o((r=r.apply(a,i)).next())});var Z,Y=fe(()=>{Z="3.3.0"});var te=G(ee=>{"use strict";Y();fetch("widgets/rssfeed/i18n/translations.json").then(a=>Q(ee,null,function*(){let i=yield a.json();$.extend(!0,systemDictionary,i)}));vis.binds.rssfeed={version:Z,showVersion:function(){vis.binds.rssfeed.version&&(console.log(`Version rssfeed: ${vis.binds.rssfeed.version}`),vis.binds.rssfeed.version=null)},rssfeedmultiwidget3:{createWidget:function(a,i,r,w){let v=$(`#${a}`);if(!v.length)return setTimeout(function(){vis.binds.rssfeed.rssfeedmultiwidget3.createWidget(a,i,r,w)},100);let e=r.rss_feedCount?r.rss_feedCount:1,u=r.rss_dpCount?r.rss_dpCount:1,o=[];for(let m=1;m<=u;m++)r[`rss_dp${m}`]&&(o.push(r[`rss_dp${m}`]),console.debug("bound"));for(let m=1;m<=e;m++){let d=r[`rss_oid${m}`]?JSON.parse(vis.states.attr(`${r[`rss_oid${m}`]}.val`)):{};Object.prototype.hasOwnProperty.call(d,"articles")&&o.push(r[`rss_oid${m}`])}function h(m,d){d&&vis.binds.rssfeed.rssfeedmultiwidget3.render(a,r)}o.length>0&&(vis.editMode||vis.binds.rssfeed.bindStates(v,o,h)),this.render(a,r,w)},render:function(a,i,r){let w=[],v=[],e=i.rss_feedCount?i.rss_feedCount:1,u=i.rss_dpCount?i.rss_dpCount:1;for(let s=1;s<=u;s++)i[`rss_dp${s}`]&&(v[i[`rss_dp${s}`]]=vis.states.attr(`${i[`rss_dp${s}`]}.val`));let o=`
<style>
  #<%- widgetid %> img {
    width: calc(<%- style.width || "230px" %> - 15px);
    height: auto;
  }
  #<%- widgetid %> img.rssfeed {
    width: auto;
    height: auto;
  }
</style>
<% rss.articles.forEach(function(item){ %>
<p><%- item.meta_name || item.meta_title || '' %></p>
<p><small><%- vis.formatDate(item.pubdate, "TT.MM.JJJJ SS:mm") %></small></p>
<h3><%- item.title %></h3>
<p><%- item.description %></p>
<div style="clear:both;" />
<% }); %>
                            `,h=i.rss_template&&i.rss_template.trim()?i.rss_template.trim():o;for(let s=1;s<=e;s++){let c=i[`rss_oid${s}`]?JSON.parse(vis.states.attr(`${i[`rss_oid${s}`]}.val`)):{};if(!Object.prototype.hasOwnProperty.call(c,"articles"))continue;let f=i[`rss_filter${s}`]?i[`rss_filter${s}`]:"",b=i[`rss_maxarticles${s}`]?i[`rss_maxarticles${s}`]:999;b=b>0?b:1;let y=i[`rss_name${s}`]?i[`rss_name${s}`]:"";c&&c.articles&&c.articles.length>b&&(c.articles=c.articles.slice(0,b)),f!=""&&(c.articles=c.articles.filter(T=>vis.binds.rssfeed.checkHighlite(T.title+T.description+T.categories.toString(),f))),c.articles=c.articles.map(T=>(T.meta_title=c.meta.title,T.meta_description=c.meta.description,T.meta_name=y,T)),w.push(c.articles)}let m=[];w.forEach(function(s){m=m.concat(s)}),m.sort(function(s,c){return new Date(c.date)-new Date(s.date)});let d=new Proxy({},{get(s,c){return c=="title"||c=="description"?`meta.${c} is not available please use RSS Feed widget. Read the widget help`:"meta is not available please use RSS Feed widget. Read the widget help."}}),l="";try{m.length==0?l="articles is empty, please select a RSS feed datapoint.":l=ejs.render(h,{rss:{articles:m,meta:d},dp:v,widgetid:a,style:r})}catch(s){l=vis.binds.rssfeed.escapeHTML(s.message).replace(/(?:\r\n|\r|\n)/g,"<br>"),l=l.replace(/ /gm,"&nbsp;"),l=`<code style="color:red;">${l}</code>`}$(`#${a}`).html(l)}},marquee4:{createWidget:function(a,i,r,w){let v=$(`#${a}`);if(!v.length)return setTimeout(function(){vis.binds.rssfeed.marquee4.createWidget(a,i,r,w)},100);let e=[],u=r.rss_feedCount?r.rss_feedCount:1,o=r.rss_pauseonhover?!0:r.rss_pauseonhover,h=w.color?w.color:void 0,m=w["background-color"]?w["background-color"]:void 0;for(let s=1;s<=u;s++){let c=r[`rss_oid${s}`]?JSON.parse(vis.states.attr(`${r[`rss_oid${s}`]}.val`)):{};Object.prototype.hasOwnProperty.call(c,"articles")&&e.push(r[`rss_oid${s}`])}function d(s,c){c&&vis.binds.rssfeed.marquee4.render(a,r)}e.length>0&&(vis.editMode||(console.debug("bound"),vis.binds.rssfeed.bindStates(v,e,d)));let l="";l+=`<style> 
`,l+=`#${a} .marquee {
`,l+=`    max-width: 100vw; /* iOS braucht das */
`,l+=`    white-space: nowrap;
`,l+=`    overflow: hidden;
`,m&&(l+=`    background-color: ${m}; /* Hintergrundfarbe des Lauftextes. Auskommentieren, um Transparent zu erhalten */
`),l+=`    font-size:20px;
`,l+=`}
`,l+=`#${a} .marquee span {
`,l+=`    display: inline-block;
`,l+=`    padding-left: 100%;
`,l+=`    animation: ${a}marquee 100s linear infinite;
`,h&&(l+=`    color: ${h}; /* Textfarbe des Lauftextes */
`),l+=`}
`,o&&(l+=`/* Optional: mouseover (oder Tipp auf dem Touchscreen) pausiert die Laufschrift */
`,l+=`#${a} .marquee span:hover {
`,l+=`    animation-play-state: paused 
`,l+=`}
`),l+=`/* Make it move */
`,l+=`@keyframes ${a}marquee {
`,l+=`    0%   { transform: translateX(0); }
`,l+=`    100% { transform: translateX(-100%); }
`,l+=`}
`,l+=`#${a} a {
`,l+="    text-decoration: none;",l+="    color: inherit;",l+=`}
`,l+=`</style> 
`,l+=`<div class="${a} marquee"><span>test test test</span></div>`,$(`#${a}`).html(l);for(let s in w)"left,top,width,height".indexOf(s)<0&&w[s]!=""&&$(`#${a} span`).css(s,w[s]);this.render(a,r)},render:function(a,i){let r=[],w=i.rss_feedCount?i.rss_feedCount:1,v=i.rss_withtime?i.rss_withtime:!1,e=i.rss_withdate?i.rss_withdate:!1,u=i.rss_withyear?i.rss_withyear:!1,o=i.rss_withname?i.rss_withname:!1,h=i.rss_divider?i.rss_divider:"+++",m=i.rss_link?i.rss_link:!1,d=i.rss_speed?i.rss_speed:6;for(let f=1;f<=w;f++){let b=i[`rss_filter${f}`]?i[`rss_filter${f}`]:"",y=i[`rss_oid${f}`]?JSON.parse(vis.states.attr(`${i[`rss_oid${f}`]}.val`)):{};if(!Object.prototype.hasOwnProperty.call(y,"articles"))continue;let T=i[`rss_maxarticles${f}`]?i[`rss_maxarticles${f}`]:999;T=T>0?T:1;let F=i[`rss_name${f}`]?i[`rss_name${f}`]:"";b&&(y.articles=y.articles.filter(j=>vis.binds.rssfeed.checkHighlite(j.title+j.description+j.categories.toString(),b))),y&&y.articles&&y.articles.length>T&&(y.articles=y.articles.slice(0,T)),y.articles=y.articles.map(j=>(j.meta_title=y.meta.title,j.meta_description=y.meta.description,j.meta_name=F,j.meta_image=y.meta.image.url?y.meta.image.url:"",j)),r.push(y.articles)}let l=[];r.forEach(function(f){l=l.concat(f)}),l.sort(function(f,b){return new Date(b.date)-new Date(f.date)});let s="",c=0;if(l&&l.length>0){s=l.reduce(function(b,y){let T="";return c+=y.title.length,v&&(T=vis.formatDate(y.date,"hh:mm")),e&&(T=vis.formatDate(y.date,"DD.MM/hh:mm")),u&&(T=vis.formatDate(y.date,"DD.MM.YY/hh:mm")),m?b+=` ${h} ${T} ${o?`${y.meta_name||y.meta_title}: `:""}<a href="${y.link}" target="rssarticle">${T} ${y.title}</a>`:b+=` ${h} ${T} ${o?`${y.meta_name||y.meta_title}: `:""}${y.title}`,b},s);let f=(c/d).toFixed();$(`#${a} .marquee span`).css("animation-duration",`${f}s`),$(`#${a} .marquee span`).html(s)}}},rssfeedwidget2:{createWidget:function(a,i,r,w){let v=$(`#${a}`);if(!v.length)return setTimeout(function(){vis.binds.rssfeed.rssfeedwidget2.createWidget(a,i,r,w)},100);let e=r.rss_oid?JSON.parse(vis.states.attr(`${r.rss_oid}.val`)):{},u=`
<!--
 available variables:
 widgetid      ->  id of the widget 
 rss.meta      ->  all meta informations of an feed, details see Meta Helper widget 
 rss.articles  ->  all articles as array, details see Article Helper widget 
 style         ->  all style settings for the widget
 
 all variables are read only
-->
<style>
#<%- widgetid %> img {
    width: calc(<%- style.width || "230px" %> - 15px);
    height: auto;
}
#<%- widgetid %> img.rssfeed  {
    width: auto;
    height: auto;
}

</style>
<p><%- rss.meta.title %> </p>
<% rss.articles.forEach(function(item){ %>
    <div class="article">
    <p><small><%- vis.formatDate(item.pubdate, "TT.MM.JJJJ SS:mm") %></small></p>    
    <h3><%- item.title %></h3>
    <p><%- item.description %></p>
    <div style="clear:both;"></div>
</div>
<% }); %> 
        `,o=`
            No Object ID set
            `,h=r.rss_template?r.rss_template:u,m=r.rss_filter?r.rss_filter:"",d=r.rss_maxarticles?r.rss_maxarticles:999;d=d>0?d:1,e&&e.articles&&e.articles.length>d&&(e.articles=e.articles.slice(0,d)),m!=""&&(e.articles=e.articles.filter(function(c){return vis.binds.rssfeed.checkHighlite(c.title+c.description+c.categories.toString(),m)}));function l(c,f){f&&vis.binds.rssfeed.rssfeedwidget2.createWidget(a,i,r,w)}r.rss_oid&&(vis.editMode||vis.binds.rssfeed.bindStates(v,[r.rss_oid],l));let s="";try{typeof e.meta=="undefined"?s=ejs.render(o,e):s=ejs.render(h,{rss:e,widgetid:a,style:w})}catch(c){s=vis.binds.rssfeed.escapeHTML(c.message).replace(/(?:\r\n|\r|\n)/g,"<br>"),s=s.replace(/ /gm,"&nbsp;"),s=`<code style="color:red;">${s}</code>`}$(`#${a}`).html(s)}},jsontemplate2:{createWidget:function(a,i,r,w){let v=$(`#${a}`);if(!v.length)return setTimeout(function(){vis.binds.rssfeed.jsontemplate2.createWidget(a,i,r,w)},100);let e=[],u=r.json_oid?JSON.parse(vis.states.attr(`${r.json_oid}.val`)):{},o=r.json_template?r.json_template:"";r.json_oid&&e.push(r.json_oid);let h=r.rss_dpCount?r.rss_dpCount:1,m=[];for(let l=1;l<=h;l++)r[`rss_dp${l}`]&&(m[r[`rss_dp${l}`]]=vis.states.attr(`${r[`rss_dp${l}`]}.val`),e.push(r[`rss_dp${l}`]));e&&(vis.editMode||vis.binds.rssfeed.bindStates(v,e,vis.binds.rssfeed.jsontemplate2.onChange.bind({widgetID:a,view:i,data:r,style:w})));let d="";try{d=ejs.render(o,{widgetID:a,data:u,dp:m})}catch(l){d=vis.binds.rssfeed.escapeHTML(l.message).replace(/(?:\r\n|\r|\n)/g,"<br>"),d=d.replace(/ /gm,"&nbsp;"),d=`<code style="color:red;">${d}</code>`}$(`#${a}`).html(d)},onChange:function(a,i){i&&vis.binds.rssfeed.jsontemplate2.render(this.widgetID,this.view,this.data,this.style)},render:function(a,i,r){let w=r.json_oid?JSON.parse(vis.states.attr(`${r.json_oid}.val`)):{},v=r.rss_dpCount?r.rss_dpCount:1,e=r.json_template?r.json_template:"",u=[];for(let h=1;h<=v;h++)r[`rss_dp${h}`]&&(u[r[`rss_dp${h}`]]=vis.states.attr(`${r[`rss_dp${h}`]}.val`));let o="";try{o=ejs.render(e,{widgetID:a,data:w,dp:u})}catch(h){o=vis.binds.rssfeed.escapeHTML(h.message).replace(/(?:\r\n|\r|\n)/g,"<br>"),o=o.replace(/ /gm,"&nbsp;"),o=`<code style="color:red;">${o}</code>`}$(`#${a}`).html(o)}},metahelper:{createWidget:function(a,i,r,w){let v=$(`#${a}`);if(!v.length)return setTimeout(function(){vis.binds.rssfeed.metahelper.createWidget(a,i,r,w)},100);let e=r.rss_oid?JSON.parse(vis.states.attr(`${r.rss_oid}.val`)):{};function u(h,m){m&&vis.binds.rssfeed.metahelper.createWidget(a,i,r,w)}r.rss_oid&&(vis.editMode||vis.binds.rssfeed.bindStates(v,[r.rss_oid],u));let o="";o+=`<style> 
`,o+=`#${a} .rssfeed th {
`,o+=`   white-space: nowrap;
`,o+=`   text-align: left;
`,o+=`   vertical-align: top;
`,o+=`} 
`,o+=`</style> 
`,o+='<table class="rssfeed attributes">',o+=`<tr><th>meta.title</th><td>${e.meta.title}</td></tr>`,o+=`<tr><th>meta.description</th><td>${e.meta.description}</td></tr>`,o+=`<tr><th>meta.link</th><td>${e.meta.link}</td></tr>`,o+=`<tr><th>meta.xmlurl</th><td>${e.meta.xmlurl}</td></tr>`,o+=`<tr><th>meta.date</th><td>${e.meta.date}</td></tr>`,o+=`<tr><th>meta.pubdate</th><td>${e.meta.pubdate}</td></tr>`,o+=`<tr><th>meta.author</th><td>${e.meta.author}</td></tr>`,o+=`<tr><th>meta.language</th><td>${e.meta.language}</td></tr>`,o+=`<tr><th>meta.image.url</th><td>${e.meta.image.url}</td></tr>`,o+=`<tr><th>meta.image.title</th><td>${e.meta.image.title}</td></tr>`,o+=`<tr><th>meta.favicon</th><td>${e.meta.favicon}</td></tr>`,o+=`<tr><th>meta.copyright</th><td>${e.meta.copyright}</td></tr>`,o+=`<tr><th>meta.generator</th><td>${e.meta.generator}</td></tr>`,o+=`<tr><th>meta.categories</th><td>${e.meta.categories.toString()}</td></tr>`,o+="</table>",$(`#${a}`).html(o)}},articlehelper2:{createWidget:function(a,i,r,w){let v=$(`#${a}`);if(!v.length)return setTimeout(function(){vis.binds.rssfeed.articlehelper2.createWidget(a,i,r,w)},100);let e=r.rss_oid?JSON.parse(vis.states.attr(`${r.rss_oid}.val`)):{},u=r.rss_prefix?r.rss_prefix:"item",o=r.rss_article?r.rss_article:1;o=o>0?o:1;function h(l,s){s&&vis.binds.rssfeed.articlehelper2.createWidget(a,i,r,w)}r.rss_oid&&(vis.editMode||vis.binds.rssfeed.bindStates(v,[r.rss_oid],h));let m=e.articles[o-1],d="";m?(d+=`<style> 
`,d+=`#${a} .rssfeed th {
`,d+=`   white-space: nowrap;
`,d+=`   text-align: left;
`,d+=`   vertical-align: top;
`,d+=`} 
`,d+=`</style> 
`,d+='<table class="rssfeed attributes">',d+=`<tr><th>${u}.title</th><td>${m.title}</td></tr>`,d+=`<tr><th>${u}.description</th><td>${m.description}</td></tr>`,d+=`<tr><th>${u}.summary</th><td>${m.summary}</td></tr>`,d+=`<tr><th>${u}.link</th><td>${m.link}</td></tr>`,d+=`<tr><th>${u}.origlink</th><td>${m.origlink}</td></tr>`,d+=`<tr><th>${u}.permalink</th><td>${m.permalink}</td></tr>`,d+=`<tr><th>${u}.date</th><td>${m.date}</td></tr>`,d+=`<tr><th>${u}.pubdate</th><td>${m.pubdate}</td></tr>`,d+=`<tr><th>${u}.author</th><td>${m.author}</td></tr>`,d+=`<tr><th>${u}.guid</th><td>${m.guid}</td></tr>`,d+=`<tr><th>${u}.comments</th><td>${m.comments}</td></tr>`,d+=`<tr><th>${u}.image.url</th><td>${m.image.url}</td></tr>`,d+=`<tr><th>${u}.image.title</th><td>${m.image.title}</td></tr>`,d+=`<tr><th>${u}.categories</th><td>${m.categories}</td></tr>`,d+=`<tr><th>${u}.source</th><td>${JSON.stringify(m.source)}</td></tr>`,d+=`<tr><th>${u}.enclosures</th><td>${JSON.stringify(m.enclosures)}</td></tr>`,d+="</table>"):(d+='<table class="rssfeed attributes">',d+=`<tr><th>No Data. End of List of ${e.articles.length} Articles</th></tr>`,d+="</table>"),$(`#${a}`).html(d)}},checkHighlite:function(a,i,r){return r=typeof r!="undefined"?r:";",i.split(r).reduce(function(v,e){return e==""?v:v||a.toLowerCase().indexOf(e.toLowerCase())>=0},!1)},bindStates:function(a,i,r){let w=$(a),v=w.data("bound");if(v)for(let e=0;e<v.length;e++)vis.states.unbind(v[e],r);w.data("bound",null),w.data("bindHandler",null),vis.conn.gettingStates=0,vis.conn.getStates(i,function(e,u){vis.conn.subscribe(i),w.data("bound",i),w.data("bindHandler",r);for(let o=0;o<i.length;o++)i[o]=`${i[o]}.val`,vis.states.bind(i[o],r);vis.updateStates(u)}.bind({change_callback:r}))},escapeHTML:function(a){let i=document.createElement("textarea");i.textContent=a;let r=i.innerHTML;return i=null,r},editEjs:function(a){let i=vis,r={input:`<textarea id="inspect_${a}"></textarea>`};return r.button={icon:"ui-icon-note",text:!1,title:_("Select color"),click:function(){let w=$(this).data("wdata"),v={};i.config["dialog-edit-text"]&&(v=JSON.parse(i.config["dialog-edit-text"])),ace.config.setModuleUrl("ace/mode/ejs","widgets/rssfeed/js/mode-ejs.js");let e=ace.edit("dialog-edit-text-textarea"),u=!1;$("#dialog-edit-text").dialog({autoOpen:!0,width:v.width||800,height:v.height||600,modal:!0,resize:function(){e.resize()},open:function(o){$(o.target).parent().find(".ui-dialog-titlebar-close .ui-button-text").html(""),$(this).parent().css({"z-index":1e3}),v.top!==void 0&&(v.top>=0?$(this).parent().css({top:v.top}):$(this).parent().css({top:0})),v.left!==void 0&&(v.left>=0?$(this).parent().css({left:v.left}):$(this).parent().css({left:0})),e.getSession().setMode("ace/mode/ejs"),e.setOptions({enableBasicAutocompletion:!0,enableLiveAutocompletion:!0}),e.$blockScrolling=1/0,e.getSession().setUseWrapMode(!0),e.setValue($(`#inspect_${w.attr}`).val()),e.navigateFileEnd(),e.focus(),e.getSession().on("change",function(){u=!0})},beforeClose:function(){let o=$("#dialog-edit-text").parent(),h=o.position();if(i.editSaveConfig("dialog-edit-text",JSON.stringify({top:h.top>0?h.top:0,left:h.left>0?h.left:0,width:o.width(),height:o.height()+9})),u&&!window.confirm(_("Changes are not saved!. Continue?")))return!1},buttons:[{text:_("Ok"),click:function(){$(`#inspect_${w.attr}`).val(e.getValue()).trigger("change"),u=!1,$(this).dialog("close")}},{text:_("Cancel"),click:function(){$(this).dialog("close")}}]}).show()}},r}};vis.binds.rssfeed.showVersion()});var re=G((se,z)=>{"use strict";(function(a){if(typeof se=="object"&&typeof z!="undefined")z.exports=a();else if(typeof define=="function"&&define.amd)define([],a);else{var i;typeof window!="undefined"?i=window:typeof global!="undefined"?i=global:typeof self!="undefined"?i=self:i=this,i.ejs=a()}})(function(){var a,i,r;return function(){function w(v,e,u){function o(d,l){if(!e[d]){if(!v[d]){var s=typeof J=="function"&&J;if(!l&&s)return s(d,!0);if(h)return h(d,!0);var c=new Error("Cannot find module '"+d+"'");throw c.code="MODULE_NOT_FOUND",c}var f=e[d]={exports:{}};v[d][0].call(f.exports,function(b){var y=v[d][1][b];return o(y||b)},f,f.exports,w,v,e,u)}return e[d].exports}for(var h=typeof J=="function"&&J,m=0;m<u.length;m++)o(u[m]);return o}return w}()({1:[function(w,v,e){"use strict";var u=w("fs"),o=w("path"),h=w("./utils"),m=!1,d=w("../package.json").version,l="<",s=">",c="%",f="locals",b="ejs",y="(<%%|%%>|<%=|<%-|<%_|<%#|<%|%>|-%>|_%>)",T=["delimiter","scope","context","debug","compileDebug","client","_with","rmWhitespace","strict","filename","async"],F=T.concat("cache"),j=/^\uFEFF/;e.cache=h.cache,e.fileLoader=u.readFileSync,e.localsName=f,e.promiseImpl=new Function("return this;")().Promise,e.resolveInclude=function(n,g,t){var p=o.dirname,E=o.extname,C=o.resolve,x=C(t?g:p(g),n),P=E(n);return P||(x+=".ejs"),x};function O(n,g){var t,p,E=g.views,C=/^[A-Za-z]+:\\|^\//.exec(n);if(C&&C.length)t=e.resolveInclude(n.replace(/^\/*/,""),g.root||"/",!0);else if(g.filename&&(p=e.resolveInclude(n,g.filename),u.existsSync(p)&&(t=p)),t||Array.isArray(E)&&E.some(function(x){return p=e.resolveInclude(n,x,!0),u.existsSync(p)})&&(t=p),!t)throw new Error('Could not find the include file "'+g.escapeFunction(n)+'"');return t}function S(n,g){var t,p=n.filename,E=arguments.length>1;if(n.cache){if(!p)throw new Error("cache option requires a filename");if(t=e.cache.get(p),t)return t;E||(g=A(p).toString().replace(j,""))}else if(!E){if(!p)throw new Error("Internal EJS error: no file name or template provided");g=A(p).toString().replace(j,"")}return t=e.compile(g,n),n.cache&&e.cache.set(p,t),t}function L(n,g,t){var p;if(t){try{p=S(n)(g)}catch(E){return t(E)}t(null,p)}else{if(typeof e.promiseImpl=="function")return new e.promiseImpl(function(E,C){try{p=S(n)(g),E(p)}catch(x){C(x)}});throw new Error("Please provide a callback function")}}function A(n){return e.fileLoader(n)}function ie(n,g){var t=h.shallowCopy({},g);return t.filename=O(n,t),S(t)}function U(n,g,t,p,E){var C=g.split(`
`),x=Math.max(p-3,0),P=Math.min(C.length,p+3),N=E(t),W=C.slice(x,P).map(function(R,D){var H=D+x+1;return(H==p?" >> ":"    ")+H+"| "+R}).join(`
`);throw n.path=N,n.message=(N||"ejs")+":"+p+`
`+W+`

`+n.message,n}function V(n){return n.replace(/;(\s*$)/,"$1")}e.compile=function(g,t){var p;return t&&t.scope&&(m||(console.warn("`scope` option is deprecated and will be removed in EJS 3"),m=!0),t.context||(t.context=t.scope),delete t.scope),p=new k(g,t),p.compile()},e.render=function(n,g,t){var p=g||{},E=t||{};return arguments.length==2&&h.shallowCopyFromList(E,p,T),S(E,n)(p)},e.renderFile=function(){var n=Array.prototype.slice.call(arguments),g=n.shift(),t,p={filename:g},E,C;return typeof arguments[arguments.length-1]=="function"&&(t=n.pop()),n.length?(E=n.shift(),n.length?h.shallowCopy(p,n.pop()):(E.settings&&(E.settings.views&&(p.views=E.settings.views),E.settings["view cache"]&&(p.cache=!0),C=E.settings["view options"],C&&h.shallowCopy(p,C)),h.shallowCopyFromList(p,E,F)),p.filename=g):E={},L(p,E,t)},e.Template=k,e.clearCache=function(){e.cache.reset()};function k(n,g){g=g||{};var t={};this.templateText=n,this.mode=null,this.truncate=!1,this.currentLine=1,this.source="",this.dependencies=[],t.client=g.client||!1,t.escapeFunction=g.escape||g.escapeFunction||h.escapeXML,t.compileDebug=g.compileDebug!==!1,t.debug=!!g.debug,t.filename=g.filename,t.openDelimiter=g.openDelimiter||e.openDelimiter||l,t.closeDelimiter=g.closeDelimiter||e.closeDelimiter||s,t.delimiter=g.delimiter||e.delimiter||c,t.strict=g.strict||!1,t.context=g.context,t.cache=g.cache||!1,t.rmWhitespace=g.rmWhitespace,t.root=g.root,t.outputFunctionName=g.outputFunctionName,t.localsName=g.localsName||e.localsName||f,t.views=g.views,t.async=g.async,t.destructuredLocals=g.destructuredLocals,t.legacyInclude=typeof g.legacyInclude!="undefined"?!!g.legacyInclude:!0,t.strict?t._with=!1:t._with=typeof g._with!="undefined"?g._with:!0,this.opts=t,this.regex=this.createRegex()}k.modes={EVAL:"eval",ESCAPED:"escaped",RAW:"raw",COMMENT:"comment",LITERAL:"literal"},k.prototype={createRegex:function(){var n=y,g=h.escapeRegExpChars(this.opts.delimiter),t=h.escapeRegExpChars(this.opts.openDelimiter),p=h.escapeRegExpChars(this.opts.closeDelimiter);return n=n.replace(/%/g,g).replace(/</g,t).replace(/>/g,p),new RegExp(n)},compile:function(){var n,g,t=this.opts,p="",E="",C=t.escapeFunction,x;if(!this.source){if(this.generateSource(),p+=`  var __output = "";
  function __append(s) { if (s !== undefined && s !== null) __output += s }
`,t.outputFunctionName&&(p+="  var "+t.outputFunctionName+` = __append;
`),t.destructuredLocals&&t.destructuredLocals.length){for(var P="  var __locals = ("+t.localsName+` || {}),
`,N=0;N<t.destructuredLocals.length;N++){var W=t.destructuredLocals[N];N>0&&(P+=`,
  `),P+=W+" = __locals."+W}p+=P+`;
`}t._with!==!1&&(p+="  with ("+t.localsName+` || {}) {
`,E+=`  }
`),E+=`  return __output;
`,this.source=p+this.source+E}t.compileDebug?n=`var __line = 1
  , __lines = `+JSON.stringify(this.templateText)+`
  , __filename = `+(t.filename?JSON.stringify(t.filename):"undefined")+`;
try {
`+this.source+`} catch (e) {
  rethrow(e, __lines, __filename, __line, escapeFn);
}
`:n=this.source,t.client&&(n="escapeFn = escapeFn || "+C.toString()+`;
`+n,t.compileDebug&&(n="rethrow = rethrow || "+U.toString()+`;
`+n)),t.strict&&(n=`"use strict";
`+n),t.debug&&console.log(n),t.compileDebug&&t.filename&&(n=n+`
//# sourceURL=`+t.filename+`
`);try{if(t.async)try{x=new Function("return (async function(){}).constructor;")()}catch(M){throw M instanceof SyntaxError?new Error("This environment does not support async/await"):M}else x=Function;g=new x(t.localsName+", escapeFn, include, rethrow",n)}catch(M){throw M instanceof SyntaxError&&(t.filename&&(M.message+=" in "+t.filename),M.message+=` while compiling ejs

`,M.message+=`If the above error is not helpful, you may want to try EJS-Lint:
`,M.message+="https://github.com/RyanZim/EJS-Lint",t.async||(M.message+=`
`,M.message+="Or, if you meant to create an async function, pass `async: true` as an option.")),M}var R=t.client?g:function(B){var ne=function(oe,X){var q=h.shallowCopy({},B);return X&&(q=h.shallowCopy(q,X)),ie(oe,t)(q)};return g.apply(t.context,[B||{},C,ne,U])};if(R.dependencies=this.dependencies,t.filename&&typeof Object.defineProperty=="function"){var D=t.filename,H=o.basename(D,o.extname(D));try{Object.defineProperty(R,"name",{value:H,writable:!1,enumerable:!1,configurable:!0})}catch(M){}}return R},generateSource:function(){var n=this.opts;n.rmWhitespace&&(this.templateText=this.templateText.replace(/[\r\n]+/g,`
`).replace(/^\s+|\s+$/gm,"")),this.templateText=this.templateText.replace(/[ \t]*<%_/gm,"<%_").replace(/_%>[ \t]*/gm,"_%>");var g=this,t=this.parseTemplateText(),p=this.opts.delimiter,E=this.opts.openDelimiter,C=this.opts.closeDelimiter;t&&t.length&&t.forEach(function(x,P){var N;if(x.indexOf(E+p)===0&&x.indexOf(E+p+p)!==0&&(N=t[P+2],!(N==p+C||N=="-"+p+C||N=="_"+p+C)))throw new Error('Could not find matching close tag for "'+x+'".');g.scanLine(x)})},parseTemplateText:function(){for(var n=this.templateText,g=this.regex,t=g.exec(n),p=[],E;t;)E=t.index,E!==0&&(p.push(n.substring(0,E)),n=n.slice(E)),p.push(t[0]),n=n.slice(t[0].length),t=g.exec(n);return n&&p.push(n),p},_addOutput:function(n){if(this.truncate&&(n=n.replace(/^(?:\r\n|\r|\n)/,""),this.truncate=!1),!n)return n;n=n.replace(/\\/g,"\\\\"),n=n.replace(/\n/g,"\\n"),n=n.replace(/\r/g,"\\r"),n=n.replace(/"/g,'\\"'),this.source+='    ; __append("'+n+`")
`},scanLine:function(n){var g=this,t=this.opts.delimiter,p=this.opts.openDelimiter,E=this.opts.closeDelimiter,C=0;switch(C=n.split(`
`).length-1,n){case p+t:case p+t+"_":this.mode=k.modes.EVAL;break;case p+t+"=":this.mode=k.modes.ESCAPED;break;case p+t+"-":this.mode=k.modes.RAW;break;case p+t+"#":this.mode=k.modes.COMMENT;break;case p+t+t:this.mode=k.modes.LITERAL,this.source+='    ; __append("'+n.replace(p+t+t,p+t)+`")
`;break;case t+t+E:this.mode=k.modes.LITERAL,this.source+='    ; __append("'+n.replace(t+t+E,t+E)+`")
`;break;case t+E:case"-"+t+E:case"_"+t+E:this.mode==k.modes.LITERAL&&this._addOutput(n),this.mode=null,this.truncate=n.indexOf("-")===0||n.indexOf("_")===0;break;default:if(this.mode){switch(this.mode){case k.modes.EVAL:case k.modes.ESCAPED:case k.modes.RAW:n.lastIndexOf("//")>n.lastIndexOf(`
`)&&(n+=`
`)}switch(this.mode){case k.modes.EVAL:this.source+="    ; "+n+`
`;break;case k.modes.ESCAPED:this.source+="    ; __append(escapeFn("+V(n)+`))
`;break;case k.modes.RAW:this.source+="    ; __append("+V(n)+`)
`;break;case k.modes.COMMENT:break;case k.modes.LITERAL:this._addOutput(n);break}}else this._addOutput(n)}g.opts.compileDebug&&C&&(this.currentLine+=C,this.source+="    ; __line = "+this.currentLine+`
`)}},e.escapeXML=h.escapeXML,e.__express=e.renderFile,e.VERSION=d,e.name=b,typeof window!="undefined"&&(window.ejs=e)},{"../package.json":6,"./utils":2,fs:3,path:4}],2:[function(w,v,e){"use strict";var u=/[|\\{}()[\]^$+*?.]/g;e.escapeRegExpChars=function(l){return l?String(l).replace(u,"\\$&"):""};var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},h=/[&<>'"]/g;function m(l){return o[l]||l}var d=`var _ENCODE_HTML_RULES = {
      "&": "&amp;"
    , "<": "&lt;"
    , ">": "&gt;"
    , '"': "&#34;"
    , "'": "&#39;"
    }
  , _MATCH_HTML = /[&<>'"]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
`;e.escapeXML=function(l){return l==null?"":String(l).replace(h,m)},e.escapeXML.toString=function(){return Function.prototype.toString.call(this)+`;
`+d},e.shallowCopy=function(l,s){s=s||{};for(var c in s)l[c]=s[c];return l},e.shallowCopyFromList=function(l,s,c){for(var f=0;f<c.length;f++){var b=c[f];typeof s[b]!="undefined"&&(l[b]=s[b])}return l},e.cache={_data:{},set:function(l,s){this._data[l]=s},get:function(l){return this._data[l]},remove:function(l){delete this._data[l]},reset:function(){this._data={}}}},{}],3:[function(w,v,e){},{}],4:[function(w,v,e){(function(u){function o(s,c){for(var f=0,b=s.length-1;b>=0;b--){var y=s[b];y==="."?s.splice(b,1):y===".."?(s.splice(b,1),f++):f&&(s.splice(b,1),f--)}if(c)for(;f--;f)s.unshift("..");return s}var h=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,m=function(s){return h.exec(s).slice(1)};e.resolve=function(){for(var s="",c=!1,f=arguments.length-1;f>=-1&&!c;f--){var b=f>=0?arguments[f]:u.cwd();if(typeof b!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!b)continue;s=b+"/"+s,c=b.charAt(0)==="/"}return s=o(d(s.split("/"),function(y){return!!y}),!c).join("/"),(c?"/":"")+s||"."},e.normalize=function(s){var c=e.isAbsolute(s),f=l(s,-1)==="/";return s=o(d(s.split("/"),function(b){return!!b}),!c).join("/"),!s&&!c&&(s="."),s&&f&&(s+="/"),(c?"/":"")+s},e.isAbsolute=function(s){return s.charAt(0)==="/"},e.join=function(){var s=Array.prototype.slice.call(arguments,0);return e.normalize(d(s,function(c,f){if(typeof c!="string")throw new TypeError("Arguments to path.join must be strings");return c}).join("/"))},e.relative=function(s,c){s=e.resolve(s).substr(1),c=e.resolve(c).substr(1);function f(S){for(var L=0;L<S.length&&S[L]==="";L++);for(var A=S.length-1;A>=0&&S[A]==="";A--);return L>A?[]:S.slice(L,A-L+1)}for(var b=f(s.split("/")),y=f(c.split("/")),T=Math.min(b.length,y.length),F=T,j=0;j<T;j++)if(b[j]!==y[j]){F=j;break}for(var O=[],j=F;j<b.length;j++)O.push("..");return O=O.concat(y.slice(F)),O.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(s){var c=m(s),f=c[0],b=c[1];return!f&&!b?".":(b&&(b=b.substr(0,b.length-1)),f+b)},e.basename=function(s,c){var f=m(s)[2];return c&&f.substr(-1*c.length)===c&&(f=f.substr(0,f.length-c.length)),f},e.extname=function(s){return m(s)[3]};function d(s,c){if(s.filter)return s.filter(c);for(var f=[],b=0;b<s.length;b++)c(s[b],b,s)&&f.push(s[b]);return f}var l="ab".substr(-1)==="b"?function(s,c,f){return s.substr(c,f)}:function(s,c,f){return c<0&&(c=s.length+c),s.substr(c,f)}}).call(this,w("_process"))},{_process:5}],5:[function(w,v,e){var u=v.exports={},o,h;function m(){throw new Error("setTimeout has not been defined")}function d(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?o=setTimeout:o=m}catch(S){o=m}try{typeof clearTimeout=="function"?h=clearTimeout:h=d}catch(S){h=d}})();function l(S){if(o===setTimeout)return setTimeout(S,0);if((o===m||!o)&&setTimeout)return o=setTimeout,setTimeout(S,0);try{return o(S,0)}catch(L){try{return o.call(null,S,0)}catch(A){return o.call(this,S,0)}}}function s(S){if(h===clearTimeout)return clearTimeout(S);if((h===d||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(S);try{return h(S)}catch(L){try{return h.call(null,S)}catch(A){return h.call(this,S)}}}var c=[],f=!1,b,y=-1;function T(){!f||!b||(f=!1,b.length?c=b.concat(c):y=-1,c.length&&F())}function F(){if(!f){var S=l(T);f=!0;for(var L=c.length;L;){for(b=c,c=[];++y<L;)b&&b[y].run();y=-1,L=c.length}b=null,f=!1,s(S)}}u.nextTick=function(S){var L=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)L[A-1]=arguments[A];c.push(new j(S,L)),c.length===1&&!f&&l(F)};function j(S,L){this.fun=S,this.array=L}j.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function O(){}u.on=O,u.addListener=O,u.once=O,u.off=O,u.removeListener=O,u.removeAllListeners=O,u.emit=O,u.prependListener=O,u.prependOnceListener=O,u.listeners=function(S){return[]},u.binding=function(S){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(S){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],6:[function(w,v,e){v.exports={name:"ejs",description:"Embedded JavaScript templates",keywords:["template","engine","ejs"],version:"3.0.1",author:"Matthew Eernisse <mde@fleegix.org> (http://fleegix.org)",license:"Apache-2.0",main:"./lib/ejs.js",repository:{type:"git",url:"git://github.com/mde/ejs.git"},bugs:"https://github.com/mde/ejs/issues",homepage:"https://github.com/mde/ejs",dependencies:{},devDependencies:{browserify:"^13.1.1",eslint:"^4.14.0","git-directory-deploy":"^1.5.1",jake:"^10.3.1",jsdoc:"^3.4.0","lru-cache":"^4.0.1",mocha:"^5.0.5","uglify-js":"^3.3.16"},engines:{node:">=0.10.0"},scripts:{test:"mocha",postinstall:"node ./postinstall.js"}}},{}]},{},[1])(1)})});var we=K(te()),ye=K(re());})();
/**
 * @file Embedded JavaScript templating engine. {@link http://ejs.co}
 * @author Matthew Eernisse <mde@fleegix.org>
 * @author Tiancheng "Timothy" Gu <timothygu99@gmail.com>
 * @project EJS
 * @license {@link http://www.apache.org/licenses/LICENSE-2.0 Apache License, Version 2.0}
 */
//# sourceMappingURL=rssfeed-dist.js.map
